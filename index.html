<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta http-equiv="content-type" content="text/html;charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="description" content="Vault by Aashish Koirala, A rudimentary Message Queue for Windows">
		<title>Vault | Aashish Koirala</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="screen" />
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>		
		<script type="text/javascript" src="http://aashishkoirala.github.io/scripts/bootstrap.min.js"></script>
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="container">
			<header>
			    <div class="row">
			        <div class="span4">
			            <a href="http://aashishkoirala.github.io" style="text-decoration: none">
			                <h2 class="muted" style="font-weight: normal" title="Aashish Koirala">aashish<b>koirala</b></h2>
			            </a>
			        </div>
			        <div class="span8 pull-right" style="padding-top: 10px">
			            <div class="pull-right">
			                <a title="Aashish Koirala on GitHub" href="http://github.com/aashishkoirala"><img alt="Aashish Koirala on GitHub" src="http://aashishkoirala.github.io/images/github.png" width="32" height="32" style="width: 32px; height: 32px"/></a>
			                <a title="Aashish Koirala on Twitter" href="http://twitter.com/aashishkoirala"><img alt="Aashish Koirala on Twitter" src="http://aashishkoirala.github.io/images/twitter.png" width="32" height="32" style="width: 32px; height: 32px"/></a>
			                <a title="Aashish Koirala on LinkedIn" href="http://www.linkedin.com/in/aashishkoirala"><img alt="Aashish Koirala on LinkedIn" src="http://aashishkoirala.github.io/images/linkedin.png" width="32" height="32" style="width: 32px; height: 32px"/></a>
							<a title="Go to My Blog" href="http://aashishkoirala.wordpress.com"><img alt="Go to My Blog" src="https://secure.gravatar.com/avatar/100f2280ecbf23438d15db61ad1e3ba0" width="32" height="32" style="width: 32px; height: 32px"/></a>
			            </div>
			        </div>
			    </div>
			</header>

		    <section id="main-content">
		        <div class="well">
		            <h3>Vault</h3>
					<h4>A Personal Encryption Tool</h4>
		            <ul>
		                <li><a href="http://github.com/aashishkoirala/vault">Go to GitHub Repository</a></li>
		                <li><a href="downloads/vault.zip">Download Binaries</a></li>
		            </ul>
                    <br/>
                    Vault is a command-line tool that lets you encrypt and decrypt your sensitive files. I built it for my use as I wanted to put my files up in the cloud but did not trust any cloud provider with my data in the open. With this, I feel confident putting all my stuff up on Dropbox (yes, the one that was recently hacked).
		        </div>
				<div class="row">
					<div class="tabbable span3">
						<ul class="nav nav-pills nav-stacked">
						  <li class="active"><a href="#how_it_works_tab" data-toggle="tab">How It Works</a></li>
						  <li><a href="#configuration_tab" data-toggle="tab">Configuration</a></li>
						  <li><a href="#usage_tab" data-toggle="tab">Usage</a></li>
						  <hr/>
						  <li><a href="#tos_tab" data-toggle="tab">Terms of Use</a></li>
						  <li><a href="#privacy_tab" data-toggle="tab">Privacy</a></li>
						</ul>
					</div>
					<div class="tab-content span9">
						<div class="tab-pane active" id="how_it_works_tab">
							<h5>How It Works</h5>
							The encryption is done using the following parameters:<br/><br/>
							<ul>
								<li><b>Algorithm:</b> Advanced Encryption Standard (AES)</li>
								<li><b>Key Size:</b> 256 bits</li>
								<li><b>Block Cipher Mode:</b> Cipher Block Chaining (CBC)</li>
								<li><b>Initialization Vector Size:</b> 128 bits</li>
								<li><b>Padding:</b> PKCS7</li>
							</ul><br/>
							The encryption process for each file works as follows:<br/><br/>
							<ul>
								<li>The full file path is lowercased and the name's 256-bit SHA1 hash is calculated. The hex string version of this with a ".vault" extension becomes the name of the encrypted file.</li>
								<li>A cryptographically random sequence of non-zero bytes is generated to create the initialization vector.</li>
								<li>The full path of the file is BASE64 encoded.</li>
								<li>The following are then written to the output file in sequence:
									<ul>
										<li>The length of the BASE64 encoded filename.</li>
										<li>The BASE64 encoded filename.</li>
										<li>The initialization vector.</li>
										<li>The encrypted data.</li>
									</ul>
								</li>								
							</ul><br/>
							The decryption process, of course, works in reverse.<br/><br/>
							I did not want the added overhead of maintaining and protecting an encryption key - so I decided to make it a function of some other pieces of information that only I would be able to come up with. Not at all acceptable for an enterprise solution, but I think it works for a personal encryptor and it works for me. During encryption/decryption, it asks me for:<br/><br/>
							<ul>
								<li>My full name</li>
								<li>My date of birth</li>
								<li>My social security number</li>
								<li>A secret passphrase</li>
							</ul>
							It then combines these values and calculates the 256-bit SHA1 hash of the result - which becomes the encryption key.<br/><br/>
							The actual information is never stored anywhere.<br/><br/>
						</div>
						<div class="tab-pane" id="configuration_tab">
							<h5>Configuration</h5>
							You can configure up to 36 vaults. A good use case for multiple vaults is if you are syncing each vault to a different cloud storage provider. You configure vaults in <i>vault.exe.config</i>:<br/><br/>
<pre>
&lt;ak.vault&gt;
	&lt;vaultConfiguration&gt;
	  &lt;vaults&gt;
		&lt;vault name=&quot;vault_name&quot; 
			encryptedFileLocation=&quot;encrypted_file_location&quot; 
			decryptedFileLocation=&quot;decrypted_file_location&quot; /&gt;
		&lt;vault name=&quot;vault_name&quot; 
			encryptedFileLocation=&quot;encrypted_file_location&quot; 
			decryptedFileLocation=&quot;decrypted_file_location&quot; /&gt;
		&lt;vault name=&quot;vault_name&quot; 
			encryptedFileLocation=&quot;encrypted_file_location&quot; 
			decryptedFileLocation=&quot;decrypted_file_location&quot; /&gt;
		...
	  &lt;/vaults&gt;
	&lt;/vaultConfiguration&gt;
&lt;/ak.vault&gt;
</pre><br/>
							Where:<br/><br/>
							<i>vault_name</i>: A unique name to identify the vault. This must be unique for each vault, and the application will ask you to pick a vault before you do anything.<br/><br/>
							<i>encrypted_file_location</i>: The folder where you want to keep all your encrypted files for this vault. This needs to be one folder where everything goes, and can be sync'ed with your favorite cloud storage.<br/><br/>
							<i>decrypted_file_location</i>: The folder that is used as a temporary workspace to place decrypted file and folder structure in as you're working with a set of files. You could use a different one per vault or the same one for all vaults.<br/><br/>
						</div>
						<div class="tab-pane" id="usage_tab">
							<h5>Usage</h5>
							<b>vault</b> [<b>launch</b>]<br/>
							Launches the interactive console application. Once you have some files in your encrypted location, the interactive application lets you browse through the folder tree and decrypt and launch selected files as needed, making consuming encrypted files a tad easier.<br/><br/>

							<b>vault list</b><br/>
							Displays a tree-type list of all files that are in the encrypted file location, by folder hierarchy.<br/><br/>

							<b>vault report</b><br/>
							Displays a tabular report of all files that are in the encrypted file location, with the original and the encrypted name.<br/><br/>
							
							<b>vault find</b> <i>original_file_full_path</i><br/>
							Checks to see if the file has been encrypted and is in the encrypted file location. If so, gives you the name of the encrypted file.<br/><br/>
							Example:<br/>
							<code>vault find C:\Aashish\Text\TechRef\Domain_Driven_Design.pdf</code><br/><br/>
							
							<b>vault encrypt</b> <i>filepattern1</i> [<i>filepattern2</i>] [</i>filepattern3</i>] <code>...</code><br/>
							Encrypts the files and puts the encrypted files in the encrypted file location. A file pattern can be the full path for a file, the full path for a folder, or a folder path with a wild card representing multiple files. You can specify multiple file patterns.<br/><br/>
							Example:<br/>
							<code>vault encrypt C:\Aashish\Text\TechRef\*.pdf "C:\Aashish\Data\Secret Stuff\*.xlsx"</code><br/><br/>
							
							<b>vault decrypt</b> <i>filepattern1</i> [<i>filepattern2</i>] [</i>filepattern3</i>] <code>...</code><br/>
							Decrypts the given files and puts them in the configured decrypted file location. The file patterns in this case need to be relative to the configured encrypted file location.<br/><br/>
							Example:<br/>
							<code>vault decrypt 2342389234ABEF02340ABC203482300DE234023EF02340ABC20348F0234348F0.vault</code><br/><br/>
							
							<b>vault fd</b> <i>original_file1_full_path</i> [<i>original_file2_full_path</i>] <code>...</code><br/>
							Checks to see if the file has been encrypted and is in the encrypted file location. If so, decrypts the files.<br/><br/>
							Example:<br/>
							<code>vault fd C:\Aashish\Text\TechRef\Domain_Driven_Design.pdf</code><br/><br/>
						</div>
						<div class="tab-pane" id="tos_tab">
							<h5>Terms of Use</h5>
							<ul>
								<li>The binaries are free to download and use.</li>
								<li>The source code is provided under the GPL v3 License. You can see it <a href="https://github.com/aashishkoirala/vault/blob/master/LICENSE">here.</a></li>
								<li>
									If you forget any of the four pieces of information (full name, date of birth, SSN, passphrase) that is used to encrypt the file, you are screwed as far as
									decrypting your files is concerned. Of course, with the exception of passphrase, if you forget one of the other three, I think you have bigger problems.
								</li>
								<li>As with most things free, do not blame me if running this blows up your computer or infects you with Hepatitis (or, seriously, if you lose access to your data).</li>
								<li>If there are legit issues, please do log a GitHub issue.</li>
							</ul>
						</div>
						<div class="tab-pane" id="privacy_tab">
							<h5>Privacy</h5>
							<ul>
								<li>This is a command line tool, not a hosted solution; there is no hosting infrastructure or data-store.</li>
								<li>The page you're looking at right now has a rudimentary Google Analytics scriptlet.</li>
								<li>Identifiable information related to usage and download of the binaries is not tracked as far as I know (unless Google Analytics is doing something I am unaware of).</li>
								<li>
									The four pieces of information asked during encryption/decryption are used to generate an encryption key on the fly and are not persisted anywhere.
									See Terms of Use for what happens if you forget any of them.
								</li>
							</ul>
						</div>
					</div>
				</div>
		    </section>
		</div>

		<script type="text/javascript">
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-42900227-1', 'aashishkoirala.github.io');
		  ga('send', 'pageview');
		</script>

	</body>
</html>